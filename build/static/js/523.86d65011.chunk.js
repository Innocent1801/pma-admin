"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[523],{4523:(s,e,a)=>{a.r(e),a.d(e,{default:()=>u});var t=a(7692),l=(a(255),a(550),a(3623)),i=a(2791),n=a(9434),d=a(4338),c=a(2426),r=a.n(c),o=a(6372),h=a(184);const x=s=>{let{amb:e,toggleWithdrawal:a,setToggleWithdrawal:t,formatMoney:l}=s;const[n,d]=(0,i.useState)({}),[c,r]=(0,i.useState)(!1),[x,m]=(0,i.useState)(""),[j,u]=(0,i.useState)(!1),[p,v]=(0,i.useState)({Amount:"",ID:""}),g=s=>{const{id:e,value:a}=s.target;v((s=>({...s,[e]:a})))},b=()=>{let s=e.payout+Number(p.Amount),a=e.availableBal-Number(p.Amount);p.Amount>e.availableBal?(m("Error: Insufficient Fund!"),u(!0)):p.ID!==e.code?(m("Error: Incorrect Id!"),u(!0)):(async s=>{try{await o.qA.put("/admin/amb-edit/".concat(e._id),s),v({Amount:"",ID:""}),t((s=>!s)),m("Transaction Successful!"),u(!0)}catch(a){m("Transaction Failed!")}})({availableBal:a,payout:s})};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("section",{style:{transform:a&&"translateX(".concat(0,"%)")},className:"modal-container",children:(0,h.jsxs)("div",{className:"withdraw-box",children:[(0,h.jsxs)("div",{className:"withdraw-top-text",children:[(0,h.jsx)("h3",{children:"Withdraw"}),(0,h.jsx)("i",{onClick:()=>t((s=>!s)),className:"fa-solid fa-xmark noti-close colored-hover"})]}),(0,h.jsxs)("div",{className:"withdraw-wrapper",children:[(0,h.jsxs)("div",{className:"withdraw-stats",children:[(0,h.jsxs)("div",{className:"stat-wrapper",children:[(0,h.jsx)("button",{className:"stat-tag pink-tag",children:"Earning"}),(0,h.jsx)("p",{className:"-stat",children:l(e.totalEarning)})]}),(0,h.jsxs)("div",{className:"stat-wrapper",children:[(0,h.jsx)("button",{className:"stat-tag black-tag",children:"Balance"}),(0,h.jsx)("p",{className:"-stat",children:l(e.availableBal)})]}),(0,h.jsxs)("div",{className:"stat-wrapper  ",children:[(0,h.jsx)("button",{className:"stat-tag green-tag",children:"PayOut"}),(0,h.jsx)("p",{className:"-stat",children:l(e.payout)})]})]}),(0,h.jsxs)("form",{onSubmit:s=>{s.preventDefault(),b()},className:"withdraw-form",children:[(0,h.jsx)("label",{className:"Abs-label",htmlFor:"Amount",children:(0,h.jsx)("input",{id:"Amount",type:"number",value:p.Amount,onChange:g,placeholder:"Amount...",spellCheck:!1,autoComplete:"off",required:!0})}),(0,h.jsxs)("label",{className:"-Abs-label",htmlFor:"ID",children:[(0,h.jsx)("input",{id:"ID",type:c?"text":"password",value:p.ID,onChange:g,placeholder:"Enter id...",spellCheck:!1,autoComplete:"off",required:!0}),c?(0,h.jsx)("i",{onClick:()=>r((s=>!s)),className:"fa-solid fa-eye viewPwd"}):(0,h.jsx)("i",{onClick:()=>r((s=>!s)),className:"fa-solid fa-eye-slash viewPwd"})]}),(0,h.jsx)("button",{className:"withdraw-btn",children:"withdraw"})]})]})]})}),(0,h.jsx)("section",{className:"modal-container",style:{transform:j&&"translateX(".concat(0,"%)")},children:(0,h.jsxs)("div",{className:"modal-box",children:["Transaction Successful!"===x?(0,h.jsx)("i",{className:"fa-solid fa-circle-check fa-2x success-icon"}):(0,h.jsx)("i",{className:"fa-solid fa-circle-xmark fa-2x error-icon"}),(0,h.jsx)("p",{className:"modal-text",children:x}),(0,h.jsx)("div",{onClick:()=>{u(!1),m("")},className:"modal-btn",children:"Got it!"})]})})]})},m=s=>{let{amb:e,formatMoney:a,setToggleWithdrawal:t,setCurrent:l}=s;return(0,h.jsxs)("li",{className:"Abs",children:[(0,h.jsxs)("section",{className:"Abs-info-section",children:[(0,h.jsx)("div",{className:"Abs-img-wrapper",children:(0,h.jsx)("img",{className:"Abs-img",src:e.picture,alt:"Ambassador-img"})}),(0,h.jsxs)("div",{className:"Abs-details",children:[(0,h.jsx)("p",{className:"Abs-name",children:"".concat(e.firstName," ").concat(e.lastName)}),(0,h.jsxs)("em",{className:"Abs-email",children:[Array.from(e.email).slice(0,17),Array.from(e.email).length>17?"...":null]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Id: "}),e.code]})]})]}),(0,h.jsxs)("section",{className:"Abs-stat-section",children:[(0,h.jsxs)("div",{className:"top-stats",children:[(0,h.jsxs)("div",{className:"stat-wrapper",children:[(0,h.jsx)("button",{className:"stat-tag green-tag",children:"Models"}),(0,h.jsx)("p",{className:"stat",children:e.models.length})]}),(0,h.jsxs)("div",{className:"stat-wrapper",children:[(0,h.jsx)("button",{className:"stat-tag pink-tag",children:"Active"}),(0,h.jsx)("p",{className:"stat",children:e.activeModels})]}),(0,h.jsxs)("div",{className:"stat-wrapper",children:[(0,h.jsx)("button",{className:"stat-tag black-tag",children:"Pending"}),(0,h.jsx)("p",{className:"stat",children:e.pendingModels})]})]}),(0,h.jsxs)("div",{className:"bottom-stats",children:[(0,h.jsxs)("div",{className:"stat-wrapper",children:[(0,h.jsx)("button",{className:"stat-tag pink-tag",children:"Earning"}),(0,h.jsx)("p",{className:"stat",children:a(e.totalEarning)})]}),(0,h.jsxs)("div",{className:"stat-wrapper",children:[(0,h.jsx)("button",{className:"stat-tag black-tag",children:"Balance"}),(0,h.jsx)("p",{className:"stat",children:a(e.availableBal)})]}),(0,h.jsxs)("div",{className:"stat-wrapper  ",children:[(0,h.jsx)("button",{onClick:()=>{t(!0),l(e)},className:"stat-tag green-tag",children:"PayOut"}),(0,h.jsx)("p",{className:"stat",children:a(e.payout)})]})]})]})]},e.code)},j=s=>{let{ambData:e}=s;const[a,t]=(0,i.useState)(!1),[l,n]=(0,i.useState)({}),d=function(){return"#"+Number(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0).toLocaleString("en-US")};return(0,h.jsxs)("section",{className:"Ambassador-section",children:[(0,h.jsx)("h1",{className:"Abs-title",children:"Ambassadors"}),(0,h.jsx)("ul",{className:"Abs-list",children:0!==e.length?e.map((s=>(0,h.jsx)(m,{amb:s,formatMoney:d,setToggleWithdrawal:t,setCurrent:n},s.code))):(0,h.jsx)("div",{className:"Abs-not-found",children:"Ambassadors Not Found!"})}),(0,h.jsx)(x,{toggleWithdrawal:a,setToggleWithdrawal:t,formatMoney:d,amb:l})]})},u=()=>{const s=(0,n.I0)(),[e,a]=(0,i.useState)([]),[c,x]=(0,i.useState)([]),[m,u]=(0,i.useState)([]),[p,v]=(0,i.useState)([]),[g,b]=(0,i.useState)([]),[f,N]=(0,i.useState)([]),[w,y]=(0,i.useState)([]),[A,_]=(0,i.useState)([]),[k,S]=(0,i.useState)(""),[E,C]=(0,i.useState)(""),[M,I]=(0,i.useState)(""),[W,D]=(0,i.useState)(""),[L,T]=(0,i.useState)(""),[P,U]=(0,i.useState)("");(0,i.useEffect)((()=>{(0,d.PD)(s,"/user",a)}),[a,s]);const G=[...e].reverse();(0,i.useEffect)((()=>()=>(async()=>{const s=await o.WG.get("/model/models");x(s.data)})()),[]),(0,i.useEffect)((()=>()=>(async()=>{const s=await o.WG.get("/client/clients");u(s.data)})()),[]),(0,i.useEffect)((()=>()=>(async()=>{const s=await o.WG.get("/agency/");v(s.data)})()),[]),(0,i.useEffect)((()=>()=>(async()=>{const s=await o.WG.get("/blog/blogs");b(s.data)})()),[]);const O=[...g].reverse();(0,i.useEffect)((()=>{(async()=>{const s=await o.WG.get("/admin/stats");y(s.data)})()}),[]),(0,i.useEffect)((()=>{(async()=>{const s=await o.WG.get("/admin/login/stats");_(s.data)})()}),[]),(0,i.useEffect)((()=>()=>(async()=>{const s=await o.qA.get("/admin/ambassadors/all");N(s.data.models)})()),[]),(0,i.useEffect)((()=>{const s=Array(12).fill(null);w.forEach((e=>{e._id>=1&&e._id<=12&&(s[e._id-1]=e.total)})),S(s)}),[w]),(0,i.useEffect)((()=>{const s=Array(12).fill(null);A.forEach((e=>{e.month>=1&&e.month<=12&&(s[e.month-1]=e.login)})),C(s)}),[A]),(0,i.useEffect)((()=>{I((null===c||void 0===c?void 0:c.length)+(null===p||void 0===p?void 0:p.length)+(null===m||void 0===m?void 0:m.length))}),[c,p,m]),(0,i.useEffect)((()=>{D(Math.round(100*(null===c||void 0===c?void 0:c.length)/M)),T(Math.round(100*(null===m||void 0===m?void 0:m.length)/M)),U(Math.round(100*(null===p||void 0===p?void 0:p.length)/M))}),[M,c,m,p]);const R={labels:["Jan","Feb","Mar","April","May","June","July","Aug","Sept","Oct","Nov","Dec"],datasets:[{label:"NEW USER",width:"10px",backgroundColor:"royalblue",data:k,barPercentage:.5,borderRadius:4},{label:"LOGINS",backgroundColor:"hotpink",data:E,barPercentage:.5,borderRadius:4}]},B={plugins:{legend:{display:!1}},cutout:"40%",radius:"100%"},F={labels:["Models","Agencies","Clients"],datasets:[{backgroundColor:["royalblue","hotpink","black"],data:[null===c||void 0===c?void 0:c.length,null===p||void 0===p?void 0:p.length,null===m||void 0===m?void 0:m.length]}]};return(0,h.jsx)("div",{id:"admin_dashboard",children:(0,h.jsxs)("div",{className:"pane",children:[(0,h.jsxs)("div",{id:"area_one",children:[(0,h.jsx)("div",{className:"holder",children:(0,h.jsxs)("div",{className:"visitor_stats",children:[(0,h.jsxs)("header",{children:[(0,h.jsx)("span",{children:"User Statistics"}),(0,h.jsxs)("span",{id:"key_holder",children:[(0,h.jsx)("span",{className:"key"}),"USERS",(0,h.jsx)("span",{className:"key"}),"LOGINS"]}),(0,h.jsx)("select",{name:"time_frame",id:"time_frame",children:(0,h.jsx)("option",{value:"6",children:"Last 6 days"})})]}),(0,h.jsx)("div",{id:"visitors_bar_chart",children:(0,h.jsx)(l.$Q,{data:R,options:{plugins:{legend:{display:!1}},scales:{y:{suggestedMax:30}},maintainAspectRatio:!1}})}),(0,h.jsx)("footer",{children:(0,h.jsxs)("span",{children:["Audience Overview ",(0,h.jsx)(t.U6L,{color:"#ff007a"})]})})]})}),(0,h.jsx)("div",{id:"recent_members",children:(0,h.jsxs)("table",{id:"recent_members_table",children:[(0,h.jsx)("caption",{children:(0,h.jsx)("h3",{children:"Recent Members"})}),(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Username"}),(0,h.jsx)("th",{children:"Level"}),(0,h.jsx)("th",{children:"Joined"})]})}),(0,h.jsx)("tbody",{children:null===G||void 0===G?void 0:G.slice(0,4).map(((s,e)=>(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:(0,h.jsxs)("div",{className:"profile",children:[(0,h.jsx)("div",{className:"profile_image",children:(0,h.jsx)("img",{src:null!==s&&void 0!==s&&s.picture?null===s||void 0===s?void 0:s.picture:"/images/avatar2.png",alt:"profilepic"})}),(0,h.jsxs)("div",{className:"profile_name",children:[(0,h.jsxs)("div",{children:[null===s||void 0===s?void 0:s.firstName," "]}),(0,h.jsx)("div",{children:null===s||void 0===s?void 0:s.lastName})]})]})}),(0,h.jsx)("td",{children:null===s||void 0===s?void 0:s.role}),(0,h.jsx)("td",{children:r()(null===s||void 0===s?void 0:s.createdAt).format("MMMM DD, YYYY")})]},e)))}),(0,h.jsx)("tfoot",{children:(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:4,children:(0,h.jsxs)("span",{children:["View All Members ",(0,h.jsx)(t.U6L,{})]})})})})]})}),(0,h.jsx)("div",{id:"activity",children:(0,h.jsxs)("table",{id:"activities_table",children:[(0,h.jsxs)("caption",{children:[(0,h.jsx)("h3",{children:"Activity"}),(0,h.jsx)("p",{children:"Recently Published"})]}),(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"DATE & TIME"}),(0,h.jsx)("th",{children:"POSTS"})]})}),(0,h.jsx)("tbody",{children:null===O||void 0===O?void 0:O.slice(0,5).map(((s,e)=>(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:r()(s.createdAt).fromNow()}),(0,h.jsx)("td",{children:null===s||void 0===s?void 0:s.title})]},e)))}),(0,h.jsx)("tfoot",{children:(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:2,children:(0,h.jsxs)("span",{children:["Recent Comments ",(0,h.jsx)(t.U6L,{})]})})})})]})})]}),(0,h.jsxs)("section",{id:"area_two",children:[(0,h.jsxs)("section",{id:"group_stats",children:[(0,h.jsxs)("div",{className:"group_stats_box",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:"Models"}),(0,h.jsx)("div",{children:c.length})]}),(0,h.jsx)("div",{children:(0,h.jsx)(l.$I,{data:{datasets:[{backgroundColor:["#bfc4c9","royalblue"],data:[14409,10566]}]},options:B})})]}),(0,h.jsxs)("span",{className:"group_stats_box",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:"Agencies"}),p.length]}),(0,h.jsx)("div",{children:(0,h.jsx)(l.$I,{data:{datasets:[{backgroundColor:["#bfc4c9","hotpink"],data:[14409,1365]}]},options:B})})]}),(0,h.jsxs)("span",{className:"group_stats_box",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:"Clients"}),m.length]}),(0,h.jsx)("div",{children:(0,h.jsx)(l.$I,{data:{datasets:[{backgroundColor:["#bfc4c9","black"],data:[14409,2468]}]},options:B})})]})]}),(0,h.jsxs)("section",{id:"wallet_buttons",children:[(0,h.jsxs)("button",{id:"active",children:[(0,h.jsx)(t.cf2,{size:20}),(0,h.jsx)("span",{children:"AGENCY WALLET"})]}),(0,h.jsxs)("button",{children:[(0,h.jsx)(t.cf2,{size:20}),(0,h.jsx)("span",{children:"MODEL WALLET"})]})]}),(0,h.jsx)("section",{className:"holder",children:(0,h.jsxs)("div",{id:"donught_chart_holder",children:[(0,h.jsxs)("header",{children:[(0,h.jsx)("span",{children:"Users Pie Chart History"}),(0,h.jsx)(t.t5J,{size:30,color:"#66788A"})]}),(0,h.jsxs)("div",{id:"donught_chart",children:[(0,h.jsx)("div",{children:(0,h.jsx)(l.$I,{data:F,options:{plugins:{legend:{display:!1}},cutout:"80%"}})}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{id:"models_key"}),(0,h.jsx)("span",{className:"name",children:"Models"}),(0,h.jsxs)("span",{id:"models_size",children:[W,"%"]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{id:"agencies_key"}),(0,h.jsx)("span",{className:"name",children:"Agencies"}),(0,h.jsxs)("span",{id:"agencies_size",children:[P,"%"]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{id:"clients_key"}),(0,h.jsx)("span",{className:"name",children:"Clients"}),(0,h.jsxs)("span",{id:"clients_size",children:[L,"%"]})]})]})]}),(0,h.jsxs)("footer",{children:[(0,h.jsx)("select",{name:"time_frame",id:"time_frame",children:(0,h.jsx)("option",{value:"6",children:"Last 6 days"})}),(0,h.jsxs)("span",{children:["Users Overview",(0,h.jsx)(t.U6L,{})]})]})]})}),(0,h.jsx)(j,{ambData:f})]})]})})}},255:(s,e,a)=>{s.exports=a.p+"static/media/slider3.fb8983cf393b94da56ee.jpg"}}]);
//# sourceMappingURL=523.86d65011.chunk.js.map