"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[126],{8126:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var a=n(3433),i=n(9439),s=n(2791),l=n(7689),r=n(1087),o=(n(8228),n(4942)),c=n(1413),d=n(4290),u=n(4702),h=n(1353),m=(0,u.ZF)({apiKey:"AIzaSyAvHiCbuI2bpFsZm6aVedHGcrZhrqW-V0k",authDomain:"premium-model-frontend.firebaseapp.com",projectId:"premium-model-frontend",storageBucket:"premium-model-frontend.appspot.com",messagingSenderId:"62996785354",appId:"1:62996785354:web:be12debb9741d4fe2aec33"}),p=(0,h.cF)(m),f=n(9434),g=n(4338),v=n(9687),x=(n(8838),n(6890),n(3342),n(6202),n(1207),n(2687),n(1786),n(8291),n(395),n(4601),n(6733),n(1108),n(6504),n(8924),n(769),n(288),n(2655),n(1182),n(6168),n(5672),n(594),n(7711),n(4954),n(7935),n(1639),n(3660),n(7332),n(317),n(5637),n(1228),n(5278),n(560),n(1559),n(499),n(8743),n(58),n(782),n(184));function j(e){var t=e.setParagraph,n=(e.paragraph,(0,s.useRef)(null)),a=(0,s.useState)(0),l=(0,i.Z)(a,2),r=(l[0],l[1]);return(0,x.jsx)("div",{children:(0,x.jsx)(v.M,{onInit:function(e,t){return n.current=t},init:{height:500,menubar:!1,selector:"textarea",plugins:["advlist","anchor","autolink","help","image","link","lists","searchreplace","table","wordcount","media"],toolbar:"undo redo | blocks | bold italic forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | image | link",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",file_picker_types:"image",file_picker_callback:function(e,t,n){var a=document.createElement("input");a.setAttribute("type","file"),a.setAttribute("accept","image/*"),a.onchange=function(){var t=this.files[0],n=(new Date).getTime()+t.name,a=(0,d.iH)(p,"/blogs/".concat(n)),i=(0,d.B0)(a,t);i.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(r(Math.round(t)),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){}),(function(){(0,d.Jt)(i.snapshot.ref).then((function(t){e(t,{image:t})}))}))},a.click()}},onEditorChange:function(e,n){var a=e.split("\n").map((function(e){var t;return e.trim().startsWith("<p><img")?{text:"",image:(null===(t=e.match(/src="([^"]+)"/))||void 0===t?void 0:t[1])||""}:{text:e.trim(),image:""}}));t(a)}})})}var b=function(){var e=(0,f.v9)((function(e){return e.process})),t=e.isFetching,n=(0,l.TH)().state,a=(0,f.I0)(),r=(0,s.useState)((null===n||void 0===n?void 0:n.title)||""),u=(0,i.Z)(r,2),h=u[0],m=u[1],v=(0,s.useState)((null===n||void 0===n?void 0:n.photo)||void 0),b=(0,i.Z)(v,2),k=b[0],y=b[1],N=(0,s.useState)((null===n||void 0===n?void 0:n.cat)||""),w=(0,i.Z)(N,2),Z=w[0],C=w[1],S=(0,s.useState)(0),F=(0,i.Z)(S,2),_=(F[0],F[1]),I=(0,s.useState)({}),T=(0,i.Z)(I,2),U=T[0],P=T[1],z=(0,s.useState)(""),B=(0,i.Z)(z,2),H=(B[0],B[1]),M=(0,s.useState)((null===n||void 0===n?void 0:n.paragraphs)||[]),D=(0,i.Z)(M,2),A=D[0],E=D[1];(0,s.useEffect)((function(){k&&function(e,t){var n=(new Date).getTime()+e.name,a=(0,d.iH)(p,"/models/".concat(n)),i=(0,d.B0)(a,e);i.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;switch("photo"===t&&_(Math.round(n)),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){}),(function(){(0,d.Jt)(i.snapshot.ref).then((function(e){P((function(n){return(0,c.Z)((0,c.Z)({},n),{},(0,o.Z)({},t,e))}))}))}))}(k,"photo")}),[k]);var R={title:h,photo:(null===n||void 0===n?void 0:n.photo)||U.photo,cat:Z,paragraphs:A};return(0,x.jsxs)("form",{className:"add",onSubmit:function(){n?(0,g.e8)(a,"/blog/blog/edit?_id=".concat(n._id),R):(0,g.JV)(a,"/blog/post-blog",R,H)},children:[(0,x.jsxs)("div",{className:"content",children:[(0,x.jsx)("input",{type:"text",placeholder:"Title",onChange:function(e){return m(e.target.value)},value:h,required:!0}),(0,x.jsxs)("div",{className:"",children:[k&&(0,x.jsx)("img",{src:(null===n||void 0===n?void 0:n.photo)||URL.createObjectURL(k),alt:""}),(0,x.jsx)(j,{setParagraph:E,paragraph:A})]})]}),(0,x.jsxs)("div",{className:"menu",children:[(0,x.jsxs)("div",{className:"item",children:[(0,x.jsx)("h1",{children:"Publish"}),(0,x.jsxs)("span",{children:[(0,x.jsx)("b",{children:"Status: "})," Draft"]}),(0,x.jsxs)("span",{children:[(0,x.jsx)("b",{children:"Visibility: "})," Public"]}),(0,x.jsx)("input",{style:{display:"none"},type:"file",id:"file",name:"photo",onChange:function(e){return y(e.target.files[0])},required:!0}),(0,x.jsx)("label",{className:"file",htmlFor:"file",children:"Upload Image"}),(0,x.jsxs)("div",{className:"buttons",children:[(0,x.jsx)("button",{children:"Save as a draft"}),(0,x.jsx)("button",{disabled:!R.title,children:t?"Please wait...":"Publish"})]})]}),(0,x.jsxs)("div",{className:"item",children:[(0,x.jsx)("h1",{children:"Category"}),(0,x.jsxs)("div",{className:"cat",children:[(0,x.jsx)("input",{type:"radio",checked:"tips&tricks"===Z,name:"cat",value:"tips&tricks",id:"tips&tricks",onChange:function(e){return C(e.target.value)}}),(0,x.jsx)("label",{htmlFor:"tips&tricks",children:"Tips & Tricks"})]}),(0,x.jsxs)("div",{className:"cat",children:[(0,x.jsx)("input",{type:"radio",checked:"news"===Z,name:"cat",value:"news",id:"news",onChange:function(e){return C(e.target.value)}}),(0,x.jsx)("label",{htmlFor:"news",children:"News"})]}),(0,x.jsxs)("div",{className:"cat",children:[(0,x.jsx)("input",{type:"radio",checked:"models"===Z,name:"cat",value:"models",id:"models",onChange:function(e){return C(e.target.value)}}),(0,x.jsx)("label",{htmlFor:"models",children:"Models"})]}),(0,x.jsxs)("div",{className:"cat",children:[(0,x.jsx)("input",{type:"radio",checked:"lifestyle"===Z,name:"cat",value:"lifestyle",id:"lifestyle",onChange:function(e){return C(e.target.value)}}),(0,x.jsx)("label",{htmlFor:"lifestyle",children:"Lifestyle"})]}),(0,x.jsxs)("div",{className:"cat",children:[(0,x.jsx)("input",{type:"radio",checked:"magazine"===Z,name:"cat",value:"magazine",id:"magazine",onChange:function(e){return C(e.target.value)}}),(0,x.jsx)("label",{htmlFor:"magazine",children:"Magazine"})]})]})]})]})},k=function(e){var t=e.isWrite,n=e.setIsWrite,o=(0,f.I0)(),c=(0,s.useState)([]),d=(0,i.Z)(c,2),u=d[0],h=d[1],m=(0,l.TH)().search;(0,s.useEffect)((function(){(0,g.PD)(o,"/blog/blogs",h)}),[m]);var p=(0,a.Z)(u).reverse(),v=function(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent};return(0,x.jsxs)("div",{className:"home",children:[(0,x.jsx)("button",{className:"newBlog",onClick:function(){return n(!t)},children:t?"Close":"New Blog"}),t?(0,x.jsx)(b,{}):(0,x.jsx)("div",{className:"posts",children:p.map((function(e,t){var n;return(0,x.jsxs)("div",{className:"post",children:[e.photo&&(0,x.jsx)("div",{className:"img",children:(0,x.jsx)("img",{src:e.photo,alt:""})}),(0,x.jsxs)("div",{className:"content",children:[(0,x.jsx)(r.rU,{className:"link",to:"/adminpage/post/".concat(e._id),children:(0,x.jsx)("h1",{children:e.title})}),(null===e||void 0===e?void 0:e.text)&&(0,x.jsx)("p",{children:v(null===e||void 0===e?void 0:e.text)}),null===e||void 0===e||null===(n=e.paragraphs)||void 0===n?void 0:n.slice(0,1).map((function(e,t){return(0,x.jsx)("p",{children:v(null===e||void 0===e?void 0:e.text)},t)})),(0,x.jsx)(r.rU,{className:"link",to:"/adminpage/post/".concat(e._id),children:(0,x.jsx)("button",{children:"Read More"})})]})]},t)}))})]})}}}]);
//# sourceMappingURL=126.2cddb34b.chunk.js.map